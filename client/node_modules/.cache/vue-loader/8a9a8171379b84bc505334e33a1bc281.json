{"remainingRequest":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue","mtime":1668154010656},{"path":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js","mtime":1668178923523},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1668178926998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyd1c2VybmFtZSddLAogIGVtaXRzOiBbJ3N0YXJ0LWdhbWUnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcnM6IFtdLAogICAgICB0aW1lOiBudWxsLAogICAgICB0aW1lcjogbnVsbCwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnc2V0SWQnLCAnc2V0TmFtZSddKSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnc29ja2V0J10pLAogICAgbnVtUGxheWVycygpIHsKICAgICAgcmV0dXJuIHRoaXMudXNlcnMubGVuZ3RoOwogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBudW1QbGF5ZXJzKF8sIG9sZFZhbHVlKSB7CiAgICAgIGlmICh0aGlzLm51bVBsYXllcnMgPT09IDIgJiYgb2xkVmFsdWUgPT09IDEpIHsKICAgICAgICB0aGlzLnRpbWUgPSAzMDsKICAgICAgICB0aGlzLnNvY2tldC5lbWl0KCd0aW1lJywgdGhpcy50aW1lKTsKICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgdGhpcy50aW1lLS07CiAgICAgICAgICBpZiAodGhpcy50aW1lID09PSAwKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ3N0YXJ0R2FtZScpOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwogICAgICB9IGVsc2UgaWYgKHRoaXMubnVtUGxheWVycyA8IDIpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAgIHRoaXMudGltZSA9IG51bGw7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5udW1QbGF5ZXJzID4gMiAmJiB0aGlzLnRpbWUpIHsKICAgICAgICB0aGlzLnNvY2tldC5lbWl0KCd0aW1lJywgdGhpcy50aW1lKTsKICAgICAgfQogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNvY2tldC5vbignc3RhcnRHYW1lJywgKCkgPT4gewogICAgICBsZXQgaWQgPSB0aGlzLnVzZXJzLmluZGV4T2YodGhpcy51c2VybmFtZSk7CiAgICAgIHRoaXMuc2V0SWQoeyBpZCB9KTsKICAgICAgdGhpcy5zZXROYW1lKHRoaXMudXNlcm5hbWUpOwogICAgICB0aGlzLiRlbWl0KCdzdGFydC1nYW1lJywgdGhpcy51c2Vycyk7CiAgICB9KTsKCiAgICB0aGlzLnNvY2tldC5vbigncm9vbURhdGEnLCAoeyB1c2VycyB9KSA9PiB7CiAgICAgIHRoaXMudXNlcnMgPSB1c2VyczsKICAgIH0pOwoKICAgIHRoaXMuc29ja2V0Lm9uKCd0aW1lJywgdGltZSA9PiB7CiAgICAgIGlmICghdGhpcy50aW1lKSB7CiAgICAgICAgdGhpcy50aW1lID0gdGltZTsKICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgdGhpcy50aW1lLS07CiAgICAgICAgICBpZiAodGhpcy50aW1lID09PSAwKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgICAgIHRoaXMuc29ja2V0LmVtaXQoJ3N0YXJ0R2FtZScpOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9KTsKCiAgICBpZiAodGhpcy51c2VybmFtZSkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KCdqb2luJywgeyB1c2VybmFtZTogdGhpcy51c2VybmFtZSB9KTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue"],"names":[],"mappings":"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","file":"/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue","sourceRoot":"","sourcesContent":["<template>\n  <teleport to=\"#app\">\n    <div class=\"mt-5\">\n      <p class=\"loading text-center text-3xl text-white\">\n        {{ $t('start.more-players') }}\n        <span>.</span>\n        <span>.</span>\n        <span>.</span>\n      </p>\n      <div v-if=\"time\" class=\"text-white text-center\">\n        <p class=\"text-m mt-1\">{{ $t('start.begins-in') }}:</p>\n        <p class=\"loading text-xl\">{{ time }}</p>\n      </div>\n      <p v-if=\"!time\" class=\"loading text-center text-xs text-white\">{{ $t('start.begins-when') }}</p>\n      <div class=\"mx-auto mt-4 items-center max-w-xs p-3 text-center bg-gray-300 rounded\">\n        <ul>\n          <li v-for=\"(user, i) in users\" :key=\"user\" :class=\"{ 'text-orange-600 font-bold': user === username }\">\n            {{ i + 1 }}. {{ user }}\n          </li>\n        </ul>\n      </div>\n      <div class=\"mx-auto tems-center max-w-xs p-3 text-center\">\n        <a href=\"/\">\n        <base-icon\n          type=\"fa-gradient-red\"\n          icon=\"fa-backward\"\n        ></base-icon>\n        </a>\n      </div>\n    </div>\n  </teleport>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  props: ['username'],\n  emits: ['start-game'],\n  data() {\n    return {\n      users: [],\n      time: null,\n      timer: null,\n    };\n  },\n  methods: {\n    ...mapActions(['setId', 'setName']),\n  },\n  computed: {\n    ...mapGetters(['socket']),\n    numPlayers() {\n      return this.users.length;\n    },\n  },\n  watch: {\n    numPlayers(_, oldValue) {\n      if (this.numPlayers === 2 && oldValue === 1) {\n        this.time = 30;\n        this.socket.emit('time', this.time);\n        this.timer = setInterval(() => {\n          this.time--;\n          if (this.time === 0) {\n            clearInterval(this.timer);\n            this.socket.emit('startGame');\n          }\n        }, 1000);\n      } else if (this.numPlayers < 2) {\n        clearInterval(this.timer);\n        this.time = null;\n      } else if (this.numPlayers > 2 && this.time) {\n        this.socket.emit('time', this.time);\n      }\n    },\n  },\n  created() {\n    this.socket.on('startGame', () => {\n      let id = this.users.indexOf(this.username);\n      this.setId({ id });\n      this.setName(this.username);\n      this.$emit('start-game', this.users);\n    });\n\n    this.socket.on('roomData', ({ users }) => {\n      this.users = users;\n    });\n\n    this.socket.on('time', time => {\n      if (!this.time) {\n        this.time = time;\n        this.timer = setInterval(() => {\n          this.time--;\n          if (this.time === 0) {\n            clearInterval(this.timer);\n            this.socket.emit('startGame');\n          }\n        }, 1000);\n      }\n    });\n\n    if (this.username) {\n      this.socket.emit('join', { username: this.username });\n    }\n  },\n};\n</script>\n\n<style>\n@keyframes blink {\n  0% {\n    opacity: 0.2;\n  }\n  20% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0.2;\n  }\n}\n\n.loading span {\n  animation-name: blink;\n  animation-duration: 1.4s;\n  animation-iteration-count: infinite;\n  animation-fill-mode: both;\n}\n\n.loading span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.loading span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n</style>\n"]}]}