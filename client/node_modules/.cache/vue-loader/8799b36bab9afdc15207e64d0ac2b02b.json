{"remainingRequest":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue?vue&type=template&id=4525b259&bindings={\"username\":\"props\",\"users\":\"data\",\"time\":\"data\",\"timer\":\"data\",\"numPlayers\":\"options\"}","dependencies":[{"path":"/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue","mtime":1668154010656},{"path":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js","mtime":1668178923523},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1668178927054},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1668178926998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPHRlbGVwb3J0IHRvPSIjYXBwIj4KICAgIDxkaXYgY2xhc3M9Im10LTUiPgogICAgICA8cCBjbGFzcz0ibG9hZGluZyB0ZXh0LWNlbnRlciB0ZXh0LTN4bCB0ZXh0LXdoaXRlIj4KICAgICAgICB7eyAkdCgnc3RhcnQubW9yZS1wbGF5ZXJzJykgfX0KICAgICAgICA8c3Bhbj4uPC9zcGFuPgogICAgICAgIDxzcGFuPi48L3NwYW4+CiAgICAgICAgPHNwYW4+Ljwvc3Bhbj4KICAgICAgPC9wPgogICAgICA8ZGl2IHYtaWY9InRpbWUiIGNsYXNzPSJ0ZXh0LXdoaXRlIHRleHQtY2VudGVyIj4KICAgICAgICA8cCBjbGFzcz0idGV4dC1tIG10LTEiPnt7ICR0KCdzdGFydC5iZWdpbnMtaW4nKSB9fTo8L3A+CiAgICAgICAgPHAgY2xhc3M9ImxvYWRpbmcgdGV4dC14bCI+e3sgdGltZSB9fTwvcD4KICAgICAgPC9kaXY+CiAgICAgIDxwIHYtaWY9IiF0aW1lIiBjbGFzcz0ibG9hZGluZyB0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtd2hpdGUiPnt7ICR0KCdzdGFydC5iZWdpbnMtd2hlbicpIH19PC9wPgogICAgICA8ZGl2IGNsYXNzPSJteC1hdXRvIG10LTQgaXRlbXMtY2VudGVyIG1heC13LXhzIHAtMyB0ZXh0LWNlbnRlciBiZy1ncmF5LTMwMCByb3VuZGVkIj4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGkgdi1mb3I9Iih1c2VyLCBpKSBpbiB1c2VycyIgOmtleT0idXNlciIgOmNsYXNzPSJ7ICd0ZXh0LW9yYW5nZS02MDAgZm9udC1ib2xkJzogdXNlciA9PT0gdXNlcm5hbWUgfSI+CiAgICAgICAgICAgIHt7IGkgKyAxIH19LiB7eyB1c2VyIH19CiAgICAgICAgICA8L2xpPgogICAgICAgIDwvdWw+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJteC1hdXRvIHRlbXMtY2VudGVyIG1heC13LXhzIHAtMyB0ZXh0LWNlbnRlciI+CiAgICAgICAgPGEgaHJlZj0iLyI+CiAgICAgICAgPGJhc2UtaWNvbgogICAgICAgICAgdHlwZT0iZmEtZ3JhZGllbnQtcmVkIgogICAgICAgICAgaWNvbj0iZmEtYmFja3dhcmQiCiAgICAgICAgPjwvYmFzZS1pY29uPgogICAgICAgIDwvYT4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICA8L3RlbGVwb3J0Pgo="},{"version":3,"sources":["/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC;MACH,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7C,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1C,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/F,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjF,CAAC,CAAC,CAAC;UACD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACpG,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;UACxB,CAAC,CAAC,CAAC,CAAC;QACN,CAAC,CAAC,CAAC,CAAC;MACN,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue","sourceRoot":"","sourcesContent":["<template>\n  <teleport to=\"#app\">\n    <div class=\"mt-5\">\n      <p class=\"loading text-center text-3xl text-white\">\n        {{ $t('start.more-players') }}\n        <span>.</span>\n        <span>.</span>\n        <span>.</span>\n      </p>\n      <div v-if=\"time\" class=\"text-white text-center\">\n        <p class=\"text-m mt-1\">{{ $t('start.begins-in') }}:</p>\n        <p class=\"loading text-xl\">{{ time }}</p>\n      </div>\n      <p v-if=\"!time\" class=\"loading text-center text-xs text-white\">{{ $t('start.begins-when') }}</p>\n      <div class=\"mx-auto mt-4 items-center max-w-xs p-3 text-center bg-gray-300 rounded\">\n        <ul>\n          <li v-for=\"(user, i) in users\" :key=\"user\" :class=\"{ 'text-orange-600 font-bold': user === username }\">\n            {{ i + 1 }}. {{ user }}\n          </li>\n        </ul>\n      </div>\n      <div class=\"mx-auto tems-center max-w-xs p-3 text-center\">\n        <a href=\"/\">\n        <base-icon\n          type=\"fa-gradient-red\"\n          icon=\"fa-backward\"\n        ></base-icon>\n        </a>\n      </div>\n    </div>\n  </teleport>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  props: ['username'],\n  emits: ['start-game'],\n  data() {\n    return {\n      users: [],\n      time: null,\n      timer: null,\n    };\n  },\n  methods: {\n    ...mapActions(['setId', 'setName']),\n  },\n  computed: {\n    ...mapGetters(['socket']),\n    numPlayers() {\n      return this.users.length;\n    },\n  },\n  watch: {\n    numPlayers(_, oldValue) {\n      if (this.numPlayers === 2 && oldValue === 1) {\n        this.time = 30;\n        this.socket.emit('time', this.time);\n        this.timer = setInterval(() => {\n          this.time--;\n          if (this.time === 0) {\n            clearInterval(this.timer);\n            this.socket.emit('startGame');\n          }\n        }, 1000);\n      } else if (this.numPlayers < 2) {\n        clearInterval(this.timer);\n        this.time = null;\n      } else if (this.numPlayers > 2 && this.time) {\n        this.socket.emit('time', this.time);\n      }\n    },\n  },\n  created() {\n    this.socket.on('startGame', () => {\n      let id = this.users.indexOf(this.username);\n      this.setId({ id });\n      this.setName(this.username);\n      this.$emit('start-game', this.users);\n    });\n\n    this.socket.on('roomData', ({ users }) => {\n      this.users = users;\n    });\n\n    this.socket.on('time', time => {\n      if (!this.time) {\n        this.time = time;\n        this.timer = setInterval(() => {\n          this.time--;\n          if (this.time === 0) {\n            clearInterval(this.timer);\n            this.socket.emit('startGame');\n          }\n        }, 1000);\n      }\n    });\n\n    if (this.username) {\n      this.socket.emit('join', { username: this.username });\n    }\n  },\n};\n</script>\n\n<style>\n@keyframes blink {\n  0% {\n    opacity: 0.2;\n  }\n  20% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0.2;\n  }\n}\n\n.loading span {\n  animation-name: blink;\n  animation-duration: 1.4s;\n  animation-iteration-count: infinite;\n  animation-fill-mode: both;\n}\n\n.loading span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.loading span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n</style>\n"]}]}