{"remainingRequest":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js!/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/joey/Projects/qwinto/client/src/components/ScoreRow.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/joey/Projects/qwinto/client/src/components/ScoreRow.vue","mtime":1668154010657},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js","mtime":1668178923523},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1668178926998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvam9leS9Qcm9qZWN0cy9xd2ludG8vY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgc2NvcmVNaXhpbiBmcm9tICcuLi9taXhpbnMvc2NvcmUuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbc2NvcmVNaXhpbl0sCiAgcHJvcHM6IHsKICAgIGNvbG9yOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvck1lc3NhZ2U6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydzZXRTY29yZScsICduZXh0UGxheWVyJywgJ3NldEdhbWVPdmVyJ10pKSwge30sIHsKICAgIGFkZFNjb3JlOiBmdW5jdGlvbiBhZGRTY29yZShlLCBjb2xvcikgewogICAgICBpZiAodGhpcy5teUlkICE9PSB0aGlzLnJvdW5kRGF0YS5hY3RpdmVQbGF5ZXIgJiYgdGhpcy5teUlkICE9PSBudWxsIHx8IHRoaXMuZ2FtZVR5cGUgPT09ICdzb2xvJyAmJiB0aGlzLnJvdW5kRGF0YS5hY3RpdmVQbGF5ZXIgIT09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBmaWVsZCA9IHBhcnNlSW50KGUudGFyZ2V0LmNsYXNzTGlzdFsxXS5zbGljZSgxKSwgMTApOwoKICAgICAgaWYgKHRoaXMucm91bmREYXRhLmRpY2VzW2NvbG9yXSA+IDAgJiYgZS50YXJnZXQudGFnTmFtZSA9PT0gJ1AnICYmICF0aGlzLmdhbWVEYXRhW3RoaXMucm91bmREYXRhLmFjdGl2ZVBsYXllcl1bY29sb3JdW2ZpZWxkXSAmJiAhdGhpcy5yb3VuZERhdGEuc2NvcmVBZGRlZFt0aGlzLnJvdW5kRGF0YS5hY3RpdmVQbGF5ZXJdKSB7CiAgICAgICAgLy8gQ2hlY2sgaWYgc2NvcmUgY2FuIGJlIGFkZGVkCiAgICAgICAgdmFyIGNoZWNrID0gdGhpcy5zY29yZUNoZWNrKGZpZWxkLCBjb2xvcik7IC8vIE9ubHkgcnVuIGlmIHNjb3JlIGNhbiBiZSBhZGRlZAoKICAgICAgICBpZiAoY2hlY2sgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuc2V0U2NvcmUoewogICAgICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgICAgIGZpZWxkOiBmaWVsZAogICAgICAgICAgfSk7IC8vIENoZWNrIGlmIHdpbm5pbmcgY29uZGl0aW9ucyBhcmUgbWV0CgogICAgICAgICAgdGhpcy5jYWxjV2lubmluZ0NvbmRpdGlvbnMoKTsKICAgICAgICAgIHRoaXMubmV4dFBsYXllcih7CiAgICAgICAgICAgIG5leHQ6IG51bGwKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoY2hlY2sgPT09ICdhbHJlYWR5IGluIGNvbHVtbicpIHsKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gdGhpcy4kdCgnZ2FtZS5lcnJvci1jb2x1bW4nKTsKICAgICAgICB9IGVsc2UgaWYgKGNoZWNrID09PSAnbm90IGFzY2VuZGluZycpIHsKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gdGhpcy4kdCgnZ2FtZS5lcnJvci1hc2NlbmRpbmcnKTsKICAgICAgICB9IC8vIERldGVybWluZSBlcnJvcgoKICAgICAgfSBlbHNlIGlmICh0aGlzLnJvdW5kRGF0YS5yZW1haW5pbmdSb2xscyA9PT0gMikgewogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gdGhpcy4kdCgnZ2FtZS5lcnJvci10aHJvdycpOwogICAgICB9IGVsc2UgaWYgKHRoaXMucm91bmREYXRhLmRpY2VzW2NvbG9yXSA9PT0gMCAmJiAhdGhpcy5yb3VuZERhdGFbdGhpcy5yb3VuZERhdGEuYWN0aXZlUGxheWVyXSkgewogICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gdGhpcy4kdCgnZ2FtZS5lcnJvci1jb2xvcicpOwogICAgICB9CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydnYW1lRGF0YScsICdyb3VuZERhdGEnLCAnbnVtUGxheWVycycsICdteUlkJywgJ2dhbWVUeXBlJywgJ3NvY2tldCddKSkKfTs="},{"version":3,"sources":["/Users/joey/Projects/qwinto/client/src/components/ScoreRow.vue"],"names":[],"mappings":";;AAeA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,OAAO,UAAP,MAAuB,oBAAvB;AAEA,eAAe;AACb,EAAA,MAAM,EAAE,CAAC,UAAD,CADK;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,MADD;AAEL,MAAA,QAAQ,EAAE;AAFL;AADF,GAFM;AAQb,EAAA,IARa,kBAQN;AACL,WAAO;AACL,MAAA,YAAY,EAAE;AADT,KAAP;AAGD,GAZY;AAab,EAAA,OAAO,kCACF,UAAU,CAAC,CAAC,UAAD,EAAa,YAAb,EAA2B,aAA3B,CAAD,CADR;AAEL,IAAA,QAFK,oBAEI,CAFJ,EAEO,KAFP,EAEc;AACjB,UAAK,KAAK,IAAL,KAAc,KAAK,SAAL,CAAe,YAA7B,IAA6C,KAAK,IAAL,KAAc,IAA5D,IAAsE,KAAK,QAAL,KAAkB,MAAlB,IAA4B,KAAK,SAAL,CAAe,YAAf,KAAgC,CAAtI,EAA0I;AACxI;AACF;;AACA,UAAI,KAAI,GAAI,QAAQ,CAAC,CAAC,CAAC,MAAF,CAAS,SAAT,CAAmB,CAAnB,EAAsB,KAAtB,CAA4B,CAA5B,CAAD,EAAiC,EAAjC,CAApB;;AACA,UAAI,KAAK,SAAL,CAAe,KAAf,CAAqB,KAArB,IAA8B,CAA9B,IACJ,CAAC,CAAC,MAAF,CAAS,OAAT,KAAqB,GADjB,IAEJ,CAAC,KAAK,QAAL,CAAc,KAAK,SAAL,CAAe,YAA7B,EAA2C,KAA3C,EAAkD,KAAlD,CAFG,IAGJ,CAAC,KAAK,SAAL,CAAe,UAAf,CAA0B,KAAK,SAAL,CAAe,YAAzC,CAHD,EAGyD;AACvD;AACA,YAAM,KAAI,GAAI,KAAK,UAAL,CAAgB,KAAhB,EAAuB,KAAvB,CAAd,CAFuD,CAIvD;;AACA,YAAI,KAAI,KAAM,IAAd,EAAoB;AAClB,eAAK,QAAL,CAAc;AACZ,YAAA,KAAK,EAAE,KADK;AAEZ,YAAA,KAAK,EAAE;AAFK,WAAd,EADkB,CAKlB;;AACA,eAAK,qBAAL;AACA,eAAK,UAAL,CAAgB;AAAE,YAAA,IAAI,EAAE;AAAR,WAAhB;AACF,SARA,MAQO,IAAI,KAAI,KAAM,mBAAd,EAAmC;AACxC,eAAK,YAAL,GAAoB,KAAK,EAAL,CAAQ,mBAAR,CAApB;AACF,SAFO,MAEA,IAAI,KAAI,KAAM,eAAd,EAA+B;AACpC,eAAK,YAAL,GAAqB,KAAK,EAAL,CAAQ,sBAAR,CAArB;AACF,SAjBuD,CAmBvD;;AACF,OAvBA,MAuBO,IAAI,KAAK,SAAL,CAAe,cAAf,KAAkC,CAAtC,EAAyC;AAC9C,aAAK,YAAL,GAAoB,KAAK,EAAL,CAAQ,kBAAR,CAApB;AACF,OAFO,MAEA,IAAI,KAAK,SAAL,CAAe,KAAf,CAAqB,KAArB,MAAgC,CAAhC,IAAqC,CAAC,KAAK,SAAL,CAAe,KAAK,SAAL,CAAe,YAA9B,CAA1C,EAAuF;AAC5F,aAAK,YAAL,GAAoB,KAAK,EAAL,CAAQ,kBAAR,CAApB;AACF;AACF;AAnCK,IAbM;AAkDb,EAAA,QAAQ,oBACH,UAAU,CAAC,CAAC,UAAD,EAAa,WAAb,EAA0B,YAA1B,EAAwC,MAAxC,EAAgD,UAAhD,EAA4D,QAA5D,CAAD,CADP;AAlDK,CAAf","sourcesContent":["<template>\n  <div @click=\"addScore($event, color)\" class=\"flex flex-wrap mb-2 sm:ml-5 sm:mr-5\" :class=\"`${color}-row`\">\n    <slot></slot>\n  </div>  \n  <base-dialog :show=\"!!errorMessage\" type=\"error\" :title=\"$t('game.error-title')\" @close=\"errorMessage = null\">\n    <template #default>\n      <p>{{ errorMessage }}</p>\n    </template>\n    <template #actions>\n      <base-button @click=\"errorMessage = null\">OK</base-button>\n    </template>\n  </base-dialog>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport scoreMixin from '../mixins/score.js';\n\nexport default {\n  mixins: [scoreMixin],\n  props: {\n    color: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      errorMessage: null,\n    };\n  },\n  methods: {\n    ...mapActions(['setScore', 'nextPlayer', 'setGameOver']),\n    addScore(e, color) {\n      if ((this.myId !== this.roundData.activePlayer && this.myId !== null) || (this.gameType === 'solo' && this.roundData.activePlayer !== 0)) {\n        return;\n      }\n      let field = parseInt(e.target.classList[1].slice(1), 10)\n      if (this.roundData.dices[color] > 0 && \n      e.target.tagName === 'P' && \n      !this.gameData[this.roundData.activePlayer][color][field] && \n      !this.roundData.scoreAdded[this.roundData.activePlayer]) {\n        // Check if score can be added\n        const check = this.scoreCheck(field, color);\n\n        // Only run if score can be added\n        if (check === true) {\n          this.setScore({ \n            color: color, \n            field: field \n          });\n          // Check if winning conditions are met\n          this.calcWinningConditions();\n          this.nextPlayer({ next: null });\n        } else if (check === 'already in column') {\n          this.errorMessage = this.$t('game.error-column');\n        } else if (check === 'not ascending') {\n          this.errorMessage =  this.$t('game.error-ascending');\n        }\n\n        // Determine error\n      } else if (this.roundData.remainingRolls === 2) {\n        this.errorMessage = this.$t('game.error-throw');\n      } else if (this.roundData.dices[color] === 0 && !this.roundData[this.roundData.activePlayer]) {\n        this.errorMessage = this.$t('game.error-color');\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['gameData', 'roundData', 'numPlayers', 'myId', 'gameType', 'socket'])\n  }\n};\n</script>"],"sourceRoot":""}]}