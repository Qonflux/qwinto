{"remainingRequest":"/Users/joey/Projects/qwinto/client/node_modules/thread-loader/dist/cjs.js!/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js!/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/joey/Projects/qwinto/client/src/components/ScoreRow.vue?vue&type=template&id=3970706d&bindings={\"color\":\"props\",\"errorMessage\":\"data\",\"addScore\":\"options\"}","dependencies":[{"path":"/Users/joey/Projects/qwinto/client/src/components/ScoreRow.vue","mtime":1668154010657},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/thread-loader/dist/cjs.js","mtime":1668178923172},{"path":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js","mtime":1668178923523},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1668178927054},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1668178926998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyU2xvdCBhcyBfcmVuZGVyU2xvdCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJPSyIpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9iYXNlX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJiYXNlLWJ1dHRvbiIpOwoKICB2YXIgX2NvbXBvbmVudF9iYXNlX2RpYWxvZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJiYXNlLWRpYWxvZyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmFkZFNjb3JlKCRldmVudCwgJHByb3BzLmNvbG9yKTsKICAgIH0pLAogICAgY2xhc3M6IFsiZmxleCBmbGV4LXdyYXAgbWItMiBzbTptbC01IHNtOm1yLTUiLCAiIi5jb25jYXQoJHByb3BzLmNvbG9yLCAiLXJvdyIpXQogIH0sIFtfcmVuZGVyU2xvdChfY3R4LiRzbG90cywgImRlZmF1bHQiKV0sIDIpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9iYXNlX2RpYWxvZywgewogICAgc2hvdzogISEkZGF0YS5lcnJvck1lc3NhZ2UsCiAgICB0eXBlOiAiZXJyb3IiLAogICAgdGl0bGU6IF9jdHguJHQoJ2dhbWUuZXJyb3ItdGl0bGUnKSwKICAgIG9uQ2xvc2U6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEuZXJyb3JNZXNzYWdlID0gbnVsbDsKICAgIH0pCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgicCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEuZXJyb3JNZXNzYWdlKSwgMSldOwogICAgfSksCiAgICBhY3Rpb25zOiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYmFzZV9idXR0b24sIHsKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkZGF0YS5lcnJvck1lc3NhZ2UgPSBudWxsOwogICAgICAgIH0pCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzFdOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSldOwogICAgfSksCiAgICBfOiAxCiAgfSwgOCwgWyJzaG93IiwgInRpdGxlIl0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/Users/joey/Projects/qwinto/client/src/components/ScoreRow.vue"],"names":[],"mappings":";;+CASgD,I;;;;;;;sDAR9C,YAAA,CAEM,KAFN,EAEM;AAFA,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,QAAA,CAAS,MAAT,EAAiB,MAAA,CAAA,KAAjB,CAAF;AAAA,KAAA,CAEL;AAFgC,IAAA,KAAK,EAAA,CAAC,qCAAD,YAAkD,MAAA,CAAA,KAAlD;AAErC,GAFN,E,CACE,WAAA,CAAa,IAAA,CAAA,MAAb,EAAa,SAAb,C,CADF,E,CAAA,C,EAGA,YAAA,CAOc,sBAPd,EAOc;AAPA,IAAA,IAAI,EAAA,CAAA,CAAI,KAAA,CAAA,YAOR;AAPsB,IAAA,IAAI,EAAC,OAO3B;AAPoC,IAAA,KAAK,EAAE,IAAA,CAAA,EAAA,CAAE,kBAAF,CAO3C;AAPoE,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,KAAA,CAAA,YAAA,GAAY,IAAd;AAAA,KAAA;AAOzE,GAPd,E;AACa,IAAA,OAAO,EAAA,QAAA,CAChB;AAAA,aAAyB,CAAzB,YAAA,CAAyB,GAAzB,EAAyB,IAAzB,EAAyB,gBAAA,CAAnB,KAAA,CAAA,YAAmB,CAAzB,EAAkB,CAAlB,CAAyB,CAAzB;AAAA,KADgB,C;AAGP,IAAA,OAAO,EAAA,QAAA,CAChB;AAAA,aAA0D,CAA1D,YAAA,CAA0D,sBAA1D,EAA0D;AAA5C,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,KAAA,CAAA,YAAA,GAAY,IAAd;AAAA,SAAA;AAAuC,OAA1D,E;0BAA0C;AAAA,iBAAE,C,UAAA,CAAF;AAAA,S;;OAA1C,CAA0D,CAA1D;AAAA,KADgB,C;;GAJpB,E,CAAA,E,iBAAA,C","sourcesContent":["<template>\n  <div @click=\"addScore($event, color)\" class=\"flex flex-wrap mb-2 sm:ml-5 sm:mr-5\" :class=\"`${color}-row`\">\n    <slot></slot>\n  </div>  \n  <base-dialog :show=\"!!errorMessage\" type=\"error\" :title=\"$t('game.error-title')\" @close=\"errorMessage = null\">\n    <template #default>\n      <p>{{ errorMessage }}</p>\n    </template>\n    <template #actions>\n      <base-button @click=\"errorMessage = null\">OK</base-button>\n    </template>\n  </base-dialog>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport scoreMixin from '../mixins/score.js';\n\nexport default {\n  mixins: [scoreMixin],\n  props: {\n    color: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      errorMessage: null,\n    };\n  },\n  methods: {\n    ...mapActions(['setScore', 'nextPlayer', 'setGameOver']),\n    addScore(e, color) {\n      if ((this.myId !== this.roundData.activePlayer && this.myId !== null) || (this.gameType === 'solo' && this.roundData.activePlayer !== 0)) {\n        return;\n      }\n      let field = parseInt(e.target.classList[1].slice(1), 10)\n      if (this.roundData.dices[color] > 0 && \n      e.target.tagName === 'P' && \n      !this.gameData[this.roundData.activePlayer][color][field] && \n      !this.roundData.scoreAdded[this.roundData.activePlayer]) {\n        // Check if score can be added\n        const check = this.scoreCheck(field, color);\n\n        // Only run if score can be added\n        if (check === true) {\n          this.setScore({ \n            color: color, \n            field: field \n          });\n          // Check if winning conditions are met\n          this.calcWinningConditions();\n          this.nextPlayer({ next: null });\n        } else if (check === 'already in column') {\n          this.errorMessage = this.$t('game.error-column');\n        } else if (check === 'not ascending') {\n          this.errorMessage =  this.$t('game.error-ascending');\n        }\n\n        // Determine error\n      } else if (this.roundData.remainingRolls === 2) {\n        this.errorMessage = this.$t('game.error-throw');\n      } else if (this.roundData.dices[color] === 0 && !this.roundData[this.roundData.activePlayer]) {\n        this.errorMessage = this.$t('game.error-color');\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['gameData', 'roundData', 'numPlayers', 'myId', 'gameType', 'socket'])\n  }\n};\n</script>"],"sourceRoot":""}]}