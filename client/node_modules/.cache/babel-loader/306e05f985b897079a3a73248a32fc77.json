{"remainingRequest":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js!/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/joey/Projects/qwinto/client/src/components/FailedRow.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/joey/Projects/qwinto/client/src/components/FailedRow.vue","mtime":1668154010656},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js","mtime":1668178923523},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1668178926998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2pvZXkvUHJvamVjdHMvcXdpbnRvL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ3BsYXllciddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb25maXJtOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnZ2FtZURhdGEnLCAncm91bmREYXRhJywgJ3NvY2tldCcsICdteUlkJywgJ2dhbWVUeXBlJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydzZXRTY29yZScsICduZXh0UGxheWVyJywgJ3NldEdhbWVPdmVyJ10pKSwge30sIHsKICAgIGlzRmFpbDogZnVuY3Rpb24gaXNGYWlsKGZpZWxkKSB7CiAgICAgIGlmICh0aGlzLmdhbWVEYXRhW3RoaXMucGxheWVyXVsnZmFpbCddW2ZpZWxkXSA9PT0gLTUpIHJldHVybiAnWCc7CiAgICB9LAogICAgY2xpY2tGYWlsOiBmdW5jdGlvbiBjbGlja0ZhaWwoKSB7CiAgICAgIC8vIFBsYXllciBmYWlscyByb3VuZAogICAgICBpZiAodGhpcy5teUlkICE9PSB0aGlzLnJvdW5kRGF0YS5hY3RpdmVQbGF5ZXIgJiYgdGhpcy5teUlkICE9PSBudWxsIHx8IHRoaXMuZ2FtZVR5cGUgPT09ICdzb2xvJyAmJiB0aGlzLnJvdW5kRGF0YS5hY3RpdmVQbGF5ZXIgIT09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJvdW5kRGF0YS5yZW1haW5pbmdSb2xscyA8IDIgJiYgdGhpcy5yb3VuZERhdGEuc2NvcmVBZGRlZC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmNvbmZpcm0gPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgY29uZmlybUZhaWw6IGZ1bmN0aW9uIGNvbmZpcm1GYWlsKGFuc3dlcikgewogICAgICB0aGlzLmNvbmZpcm0gPSBmYWxzZTsKCiAgICAgIGlmIChhbnN3ZXIpIHsKICAgICAgICB0aGlzLnNldFNjb3JlKHsKICAgICAgICAgIGNvbG9yOiAnZmFpbCcsCiAgICAgICAgICBmaWVsZDogdGhpcy5nYW1lRGF0YVt0aGlzLnJvdW5kRGF0YS5hY3RpdmVQbGF5ZXJdLmZhaWwubGVuZ3RoCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jaGVja051bUZhaWxzKCk7CiAgICAgICAgdGhpcy5uZXh0UGxheWVyKHsKICAgICAgICAgIG5leHQ6IG51bGwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrTnVtRmFpbHM6IGZ1bmN0aW9uIGNoZWNrTnVtRmFpbHMoKSB7CiAgICAgIGlmICh0aGlzLmdhbWVEYXRhW3RoaXMucm91bmREYXRhLmFjdGl2ZVBsYXllcl0uZmFpbC5sZW5ndGggPT09IDQpIHsKICAgICAgICB0aGlzLnNldEdhbWVPdmVyKCk7CgogICAgICAgIGlmICh0aGlzLmdhbWVUeXBlID09PSAnb25saW5lJykgewogICAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCgnZ2FtZU92ZXInKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["/Users/joey/Projects/qwinto/client/src/components/FailedRow.vue"],"names":[],"mappings":";AAuBA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AAEA,eAAe;AACb,EAAA,KAAK,EAAE,CAAC,QAAD,CADM;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,OAAO,EAAE;AADJ,KAAP;AAGD,GANY;AAOb,EAAA,QAAQ,oBACH,UAAU,CAAC,CAAC,UAAD,EAAa,WAAb,EAA0B,QAA1B,EAAoC,MAApC,EAA4C,UAA5C,CAAD,CADP,CAPK;AAUb,EAAA,OAAO,kCACF,UAAU,CAAC,CAAC,UAAD,EAAa,YAAb,EAA2B,aAA3B,CAAD,CADR;AAEL,IAAA,MAFK,kBAEE,KAFF,EAES;AACZ,UAAI,KAAK,QAAL,CAAc,KAAK,MAAnB,EAA2B,MAA3B,EAAmC,KAAnC,MAA8C,CAAC,CAAnD,EAAsD,OAAO,GAAP;AACvD,KAJI;AAKL,IAAA,SALK,uBAKO;AACT;AACD,UAAK,KAAK,IAAL,KAAc,KAAK,SAAL,CAAe,YAA7B,IAA6C,KAAK,IAAL,KAAc,IAA5D,IAAsE,KAAK,QAAL,KAAkB,MAAlB,IAA4B,KAAK,SAAL,CAAe,YAAf,KAAgC,CAAtI,EAA0I;AACxI;AACF;;AACA,UAAI,KAAK,SAAL,CAAe,cAAf,GAAgC,CAAhC,IAAqC,KAAK,SAAL,CAAe,UAAf,CAA0B,MAA1B,KAAqC,CAA9E,EAAiF;AAC/E,aAAK,OAAL,GAAe,IAAf;AACF;AACD,KAbI;AAcL,IAAA,WAdK,uBAcO,MAdP,EAce;AAClB,WAAK,OAAL,GAAe,KAAf;;AACA,UAAI,MAAJ,EAAY;AACV,aAAK,QAAL,CAAc;AACZ,UAAA,KAAK,EAAE,MADK;AAEZ,UAAA,KAAK,EAAE,KAAK,QAAL,CAAc,KAAK,SAAL,CAAe,YAA7B,EAA2C,IAA3C,CAAgD;AAF3C,SAAd;AAIA,aAAK,aAAL;AACA,aAAK,UAAL,CAAgB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAhB;AACF;AACD,KAxBI;AAyBL,IAAA,aAzBK,2BAyBW;AACd,UAAI,KAAK,QAAL,CAAc,KAAK,SAAL,CAAe,YAA7B,EAA2C,IAA3C,CAAgD,MAAhD,KAA2D,CAA/D,EAAkE;AAChE,aAAK,WAAL;;AACA,YAAI,KAAK,QAAL,KAAkB,QAAtB,EAAgC;AAC9B,eAAK,MAAL,CAAY,IAAZ,CAAiB,UAAjB;AACF;AACF;AACF;AAhCK;AAVM,CAAf","sourcesContent":["<template>\n  <div @click=\"clickFail\" class=\"mt-3 mb-3 w-40 justify-center text-center\">\n    <p class=\"mt-1 text-xs\">{{ $t('game.failed-throw') }}: -5</p>\n    <div class=\"bg-gray-400 flex flex-wrap justify-center rounded-md\">\n      <div \n        v-for=\"i in [0, 1, 2, 3]\"\n        :key=\"i\">\n        <p class=\"w-8 h-8 pt-1 mx-1 my-1 text-center bg-white rounded-md fail\">{{ isFail(i) }}</p>\n      </div>\n    </div>\n  </div>\n  <base-dialog :show=\"confirm\" type=\"confirm\" :title=\"$t('game.confirm-title')\" @close=\"confirmFail(false)\">\n    <template #default>\n      <p>{{ $t('game.confirm-fail') }}</p>\n    </template>\n    <template #actions>\n      <base-button class=\"mr-2\" mode=\"hover:opacity-75\" @click=\"confirmFail(true)\">OK</base-button>\n      <base-button mode=\"hover:opacity-75\" @click=\"confirmFail(false)\">{{ $t('general.no') }}</base-button>\n    </template>\n  </base-dialog>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  props: ['player'],\n  data() {\n    return {\n      confirm: false\n    };\n  },\n  computed: {\n    ...mapGetters(['gameData', 'roundData', 'socket', 'myId', 'gameType'])\n  },\n  methods: {\n    ...mapActions(['setScore', 'nextPlayer', 'setGameOver']),\n    isFail(field) {\n      if (this.gameData[this.player]['fail'][field] === -5) return 'X';\n    },\n    clickFail() {\n       // Player fails round\n      if ((this.myId !== this.roundData.activePlayer && this.myId !== null) || (this.gameType === 'solo' && this.roundData.activePlayer !== 0)) {\n        return;\n      }\n      if (this.roundData.remainingRolls < 2 && this.roundData.scoreAdded.length === 0) {\n        this.confirm = true;\n      }\n    },\n    confirmFail(answer) {\n      this.confirm = false;\n      if (answer) {\n        this.setScore({ \n          color: 'fail', \n          field: this.gameData[this.roundData.activePlayer].fail.length \n        });\n        this.checkNumFails();\n        this.nextPlayer({ next: null });\n      } \n    },\n    checkNumFails() {\n      if (this.gameData[this.roundData.activePlayer].fail.length === 4) {\n        this.setGameOver();    \n        if (this.gameType === 'online') {\n          this.socket.emit('gameOver');\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css2?family=Handlee&display=swap');\n\np.fail {\n  font-family: 'Handlee', cursive;\n}\n</style>"],"sourceRoot":""}]}