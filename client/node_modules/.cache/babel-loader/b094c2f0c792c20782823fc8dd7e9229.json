{"remainingRequest":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js!/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue?vue&type=template&id=78be1d04&bindings={\"username\":\"props\",\"users\":\"data\",\"time\":\"data\",\"timer\":\"data\",\"numPlayers\":\"options\"}","dependencies":[{"path":"/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue","mtime":1668154010656},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/babel-loader/lib/index.js","mtime":1668178923523},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1668178927054},{"path":"/Users/joey/Projects/qwinto/client/node_modules/cache-loader/dist/cjs.js","mtime":1668178923236},{"path":"/Users/joey/Projects/qwinto/client/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1668178926998}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIFRlbGVwb3J0IGFzIF9UZWxlcG9ydCB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAibXQtNSIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJsb2FkaW5nIHRleHQtY2VudGVyIHRleHQtM3hsIHRleHQtd2hpdGUiCn07Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInNwYW4iLCBudWxsLCAiLiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsICIuIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJzcGFuIiwgbnVsbCwgIi4iLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJ0ZXh0LXdoaXRlIHRleHQtY2VudGVyIgp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogInRleHQtbSBtdC0xIgp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogImxvYWRpbmcgdGV4dC14bCIKfTsKdmFyIF9ob2lzdGVkXzkgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAibG9hZGluZyB0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtd2hpdGUiCn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogIm14LWF1dG8gbXQtNCBpdGVtcy1jZW50ZXIgbWF4LXcteHMgcC0zIHRleHQtY2VudGVyIGJnLWdyYXktMzAwIHJvdW5kZWQiCn07CnZhciBfaG9pc3RlZF8xMSA9IHsKICBjbGFzczogIm14LWF1dG8gdGVtcy1jZW50ZXIgbWF4LXcteHMgcC0zIHRleHQtY2VudGVyIgp9Owp2YXIgX2hvaXN0ZWRfMTIgPSB7CiAgaHJlZjogIi8iCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfYmFzZV9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoImJhc2UtaWNvbiIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX1RlbGVwb3J0LCB7CiAgICB0bzogIiNhcHAiCiAgfSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoX2N0eC4kdCgnc3RhcnQubW9yZS1wbGF5ZXJzJykpICsgIiAiLCAxCiAgLyogVEVYVCAqLwogICksIF9ob2lzdGVkXzMsIF9ob2lzdGVkXzQsIF9ob2lzdGVkXzVdKSwgJGRhdGEudGltZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzcsIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC4kdCgnc3RhcnQuYmVnaW5zLWluJykpICsgIjoiLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzgsIF90b0Rpc3BsYXlTdHJpbmcoJGRhdGEudGltZSksIDEKICAvKiBURVhUICovCiAgKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgISRkYXRhLnRpbWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soInAiLCBfaG9pc3RlZF85LCBfdG9EaXNwbGF5U3RyaW5nKF9jdHguJHQoJ3N0YXJ0LmJlZ2lucy13aGVuJykpLCAxCiAgLyogVEVYVCAqLwogICkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbX2NyZWF0ZVZOb2RlKCJ1bCIsIG51bGwsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEudXNlcnMsIGZ1bmN0aW9uICh1c2VyLCBpKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImxpIiwgewogICAgICBrZXk6IHVzZXIsCiAgICAgIGNsYXNzOiB7CiAgICAgICAgJ3RleHQtb3JhbmdlLTYwMCBmb250LWJvbGQnOiB1c2VyID09PSAkcHJvcHMudXNlcm5hbWUKICAgICAgfQogICAgfSwgX3RvRGlzcGxheVN0cmluZyhpICsgMSkgKyAiLiAiICsgX3RvRGlzcGxheVN0cmluZyh1c2VyKSwgMwogICAgLyogVEVYVCwgQ0xBU1MgKi8KICAgICk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzExLCBbX2NyZWF0ZVZOb2RlKCJhIiwgX2hvaXN0ZWRfMTIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9iYXNlX2ljb24sIHsKICAgIHR5cGU6ICJmYS1ncmFkaWVudC1yZWQiLAogICAgaWNvbjogImZhLWJhY2t3YXJkIgogIH0pXSldKV0pXSk7Cn0="},{"version":3,"sources":["/Users/joey/Projects/qwinto/client/src/components/GameLobby.vue"],"names":[],"mappings":";;AAES,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;8BAEP,YAAA,CAAc,MAAd,EAAc,IAAd,EAAM,GAAN,EAAO,CAAA;AAAA;AAAP,C;;8BACA,YAAA,CAAc,MAAd,EAAc,IAAd,EAAM,GAAN,EAAO,CAAA;AAAA;AAAP,C;;8BACA,YAAA,CAAc,MAAd,EAAc,IAAd,EAAM,GAAN,EAAO,CAAA;AAAA;AAAP,C;;;;AAEe,EAAA,KAAK,EAAC;;;AAClB,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;;AAEK,EAAA,KAAK,EAAC;;;AACjB,EAAA,KAAK,EAAC;;;AAON,EAAA,KAAK,EAAC;;;AACN,EAAA,IAAI,EAAC;;;;;uBArBd,YAAA,CA6BW,SA7BX,EA6BW;AA7BD,IAAA,EAAE,EAAC;AA6BF,GA7BX,EAAmB,CACjB,YAAA,CA2BM,KA3BN,EAAA,UAAA,EA2BM,CA1BJ,YAAA,CAKI,GALJ,EAAA,UAAA,EAKI,C,kCAJC,IAAA,CAAA,EAAA,CAAE,oBAAF,C,IAA2B,G,EAC9B;AAAA;GAGE,EAHF,UAGE,EAFF,UAEE,EADF,UACE,CALJ,CA0BI,EApBO,KAAA,CAAA,I,kBAAX,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,YAAA,CAAuD,GAAvD,EAAA,UAAA,EAAuD,gBAAA,CAA7B,IAAA,CAAA,EAAA,CAAE,iBAAF,CAA6B,CAAA,GAAL,GAAlD,EAAmD;AAAA;AAAnD,GAEI,EADJ,YAAA,CAAyC,GAAzC,EAAA,UAAA,EAAyC,gBAAA,CAAX,KAAA,CAAA,IAAW,CAAzC,EAAkC;AAAA;AAAlC,GACI,CAHN,C,qCAoBI,E,CAhBM,KAAA,CAAA,I,kBAAV,YAAA,CAAgG,GAAhG,EAAA,UAAA,EAAgG,gBAAA,CAA9B,IAAA,CAAA,EAAA,CAAE,mBAAF,CAA8B,CAAhG,EAAoE;AAAA;AAApE,G,qCAgBI,EAfJ,YAAA,CAMM,KANN,EAAA,WAAA,EAMM,CALJ,YAAA,CAIK,IAJL,EAIK,IAJL,EAIK,E,kBAHH,YAAA,CAEK,SAFL,EAEK,IAFL,EAEK,WAAA,CAFmB,KAAA,CAAA,KAEnB,EAFwB,UAAjB,IAAiB,EAAX,CAAW,EAAV;yBAAnB,YAAA,CAEK,IAFL,EAEK;AAF2B,MAAA,GAAG,EAAE,IAEhC;AAFuC,MAAA,KAAK,EAAA;AAAA,qCAAiC,IAAI,KAAK,MAAA,CAAA;AAA1C;AAE5C,KAFL,E,iBACK,CAAC,GAAA,C,IAAO,I,GAAE,gBAAA,CAAG,IAAH,CADf,EACsB;AAAA;AADtB,K;GAEK,CAFL,E;;AAAA,GAGG,EAJL,CAKI,CANN,CAeI,EARJ,YAAA,CAOM,KAPN,EAAA,WAAA,EAOM,CANJ,YAAA,CAKI,GALJ,EAAA,WAAA,EAKI,CAJJ,YAAA,CAGa,oBAHb,EAGa;AAFX,IAAA,IAAI,EAAC,iBAEM;AADX,IAAA,IAAI,EAAC;AACM,GAHb,CAII,CALJ,CAMI,CAPN,CAQI,CA3BN,CADiB,CAAnB,C","sourcesContent":["<template>\n  <teleport to=\"#app\">\n    <div class=\"mt-5\">\n      <p class=\"loading text-center text-3xl text-white\">\n        {{ $t('start.more-players') }}\n        <span>.</span>\n        <span>.</span>\n        <span>.</span>\n      </p>\n      <div v-if=\"time\" class=\"text-white text-center\">\n        <p class=\"text-m mt-1\">{{ $t('start.begins-in') }}:</p>\n        <p class=\"loading text-xl\">{{ time }}</p>\n      </div>\n      <p v-if=\"!time\" class=\"loading text-center text-xs text-white\">{{ $t('start.begins-when') }}</p>\n      <div class=\"mx-auto mt-4 items-center max-w-xs p-3 text-center bg-gray-300 rounded\">\n        <ul>\n          <li v-for=\"(user, i) in users\" :key=\"user\" :class=\"{ 'text-orange-600 font-bold': user === username }\">\n            {{ i + 1 }}. {{ user }}\n          </li>\n        </ul>\n      </div>\n      <div class=\"mx-auto tems-center max-w-xs p-3 text-center\">\n        <a href=\"/\">\n        <base-icon\n          type=\"fa-gradient-red\"\n          icon=\"fa-backward\"\n        ></base-icon>\n        </a>\n      </div>\n    </div>\n  </teleport>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  props: ['username'],\n  emits: ['start-game'],\n  data() {\n    return {\n      users: [],\n      time: null,\n      timer: null,\n    };\n  },\n  methods: {\n    ...mapActions(['setId', 'setName']),\n  },\n  computed: {\n    ...mapGetters(['socket']),\n    numPlayers() {\n      return this.users.length;\n    },\n  },\n  watch: {\n    numPlayers(_, oldValue) {\n      if (this.numPlayers === 2 && oldValue === 1) {\n        this.time = 30;\n        this.socket.emit('time', this.time);\n        this.timer = setInterval(() => {\n          this.time--;\n          if (this.time === 0) {\n            clearInterval(this.timer);\n            this.socket.emit('startGame');\n          }\n        }, 1000);\n      } else if (this.numPlayers < 2) {\n        clearInterval(this.timer);\n        this.time = null;\n      } else if (this.numPlayers > 2 && this.time) {\n        this.socket.emit('time', this.time);\n      }\n    },\n  },\n  created() {\n    this.socket.on('startGame', () => {\n      let id = this.users.indexOf(this.username);\n      this.setId({ id });\n      this.setName(this.username);\n      this.$emit('start-game', this.users);\n    });\n\n    this.socket.on('roomData', ({ users }) => {\n      this.users = users;\n    });\n\n    this.socket.on('time', time => {\n      if (!this.time) {\n        this.time = time;\n        this.timer = setInterval(() => {\n          this.time--;\n          if (this.time === 0) {\n            clearInterval(this.timer);\n            this.socket.emit('startGame');\n          }\n        }, 1000);\n      }\n    });\n\n    if (this.username) {\n      this.socket.emit('join', { username: this.username });\n    }\n  },\n};\n</script>\n\n<style>\n@keyframes blink {\n  0% {\n    opacity: 0.2;\n  }\n  20% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0.2;\n  }\n}\n\n.loading span {\n  animation-name: blink;\n  animation-duration: 1.4s;\n  animation-iteration-count: infinite;\n  animation-fill-mode: both;\n}\n\n.loading span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.loading span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n</style>\n"],"sourceRoot":""}]}